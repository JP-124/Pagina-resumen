<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Resumen del Libro</title>
    <link rel="stylesheet" href="styles.css">
    <style>
   body {
            font-family: 'Arial', sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f2f2f2;
        }

        header {
            background-color: #a73737;
            color: #fff;
            text-align: left;
            padding: 1em 1em;
            display: flex;
            justify-content: space-between;
        }

        h1 {
            margin: 0;
            color: #ffffff;
        }

     
        nav {
            background-color: #888;
            color: #fff;
            padding: 10px;
            text-align: center;
        }

        nav ul {
            list-style-type: none;
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center; /* Centra los elementos horizontalmente */
        }

        nav li {
            margin: 0 15px;
        }

        nav a {
            text-decoration: none;
            color: #fff; /* Color blanco para los enlaces */
            font-weight: bold;
            font-size: 16px;
        }

        #main-content {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background-color: #fff;
            border: 1px solid #ddd;
            margin-top: 20px;
            text-align: left;
            display: flex;
            flex-direction: column;
        }

        #book-details {
            margin-bottom: 20px;
            display: flex; /* Nuevo estilo para usar flexbox */
            align-items: center; /* Centrar verticalmente */
        }

        #book-image {
            max-width: 100%;
            height: auto;
            margin-right: 20px; /* Espacio entre la imagen y el texto */
        }

        #back-to-list {
            margin-top: 20px;
        }

        #search-bar {
            text-align: right;
            margin-right: 20px;
        }

        #search-input {
            padding: 5px;
            font-size: 16px;
        }

        #search-button {
            background-color: #4caf50;
            color: #fff;
            border: none;
            padding: 5px 10px;
            cursor: pointer;
        }

        footer {
            background-color: #333;
            color: #fff;
            text-align: center;
            padding: 1em 0;
            margin-top: 20px;
        }

        #comments {
            margin-top: 20px;
        }

        .comment {
            margin-bottom: 10px;
            display: flex;
            justify-content: space-between;
        }

        .comment span {
            margin-right: 5px;
        }

        .comment strong {
            font-weight: bold;
        }

        .delete-button {
            background-color: #ff5c5c;
            color: #fff;
            border: none;
            padding: 5px 10px;
            cursor: pointer;
        }
    </style>
    <link rel="shortcut icon" href="logoresume.png">
</head>

<body>

    <!-- Encabezado -->
    <header>
        <h1>Resumen del libro</h1>
        <!-- Barra de búsqueda -->
        <div id="search-bar">
            <input type="text" id="search-input" placeholder="Buscar..." onkeypress="handleSearchKeyPress(event)">
            <button id="search-button" onclick="searchAndRedirect()">Buscar</button>
        </div>
    </header>

    <!-- Barra de navegación -->
    <nav>
        <ul>
            <li><a href="index.html">Inicio</a></li>
            <li><a href="listadelibros.html">Lista de libros</a></li>
            <li><a href="categorias.html">Categorías</a></li>
            <li><a href="libroporautor.html">Lista de autores</a></li>
            <li><a href="guiabuscador.html">Guía del buscador</a></li>
        </ul>
    </nav>

    <section id="main-content">
        <!-- Enlace para volver a la lista de libros -->
        <p id="back-to-list"><a href="listadelibros.html">Volver a la lista de libros</a></p>
        <p id="back-to-list"><a href="libroporautor.html">Volver a la lista de autores</a></p>
        <p id="back-to-list"><a href="categorias.html">Volver a categorías</a></p>
        <!-- Detalles del libro -->
        <div id="book-details">
            <img id="book-image" src=".jpg" alt="El león y el ratón">
            <div>
                <h2>Orgullo y prejuicio</h2>
<p>"Orgullo y prejuicio" es una novela escrita por la aclamada autora británica Jane Austen, publicada por primera vez en 1813. Es una de las obras más conocidas y queridas de la literatura clásica inglesa y ha sido adaptada en numerosas ocasiones en películas, series de televisión y obras teatrales. La novela es conocida por su aguda observación social, su ingenio y su representación magistral de las complejidades de las relaciones sociales y románticas en la Inglaterra del siglo XIX.</p>
<p>La trama se centra en la familia Bennet, particularmente en las cinco hijas del Sr. y la Sra. Bennet. La historia comienza con la llegada del rico y soltero Sr. Bingley a Netherfield Park, una finca cercana a la casa de los Bennet. La Sra. Bennet, ansiosa por casar a sus hijas, espera que alguna de ellas conquiste el corazón de Bingley.</p>
<p>Bingley rápidamente se interesa por Jane Bennet, la hija mayor y la más reservada de las hermanas. Sin embargo, la atención también se centra en el amigo cercano de Bingley, el orgulloso y enigmático Sr. Darcy. Aunque inicialmente parece desdeñoso y reservado, Darcy se encuentra atraído por la ingeniosa e independiente Elizabeth Bennet, la segunda hija.</p>
<p>La trama se desarrolla a medida que Elizabeth y Darcy se encuentran en situaciones sociales diversas, y ambos deben superar sus prejuicios y orgullos para llegar a un entendimiento mutuo. Los malentendidos, las conversaciones ingeniosas y las observaciones satíricas sobre la sociedad de la época conforman gran parte de la narrativa.</p>
<p>Uno de los elementos distintivos de "Orgullo y prejuicio" es el estilo de narración de Jane Austen, que utiliza la perspectiva de Elizabeth para proporcionar una visión irónica y perspicaz de los personajes y sus comportamientos. A través de los diálogos y las interacciones sociales, Austen critica sutilmente las normas de la sociedad de la época y los roles asignados a hombres y mujeres.</p>
<p>A lo largo de la novela, se presentan varios personajes secundarios, cada uno con sus propias personalidades y motivaciones. La familia Bennet, en particular, es una fuente constante de humor y reflexión sobre la vida familiar y las expectativas sociales.</p>
<p>La obra también aborda temas como la importancia del matrimonio por amor frente al matrimonio por conveniencia, la influencia del estatus social en las relaciones y la necesidad de superar los prejuicios para lograr la felicidad personal.</p>
<p>El clímax de la historia se centra en los malentendidos entre Elizabeth y Darcy, que culminan en una serie de eventos que llevan al reconocimiento de los verdaderos sentimientos de ambos personajes. La conclusión de la novela, que incluye varios matrimonios entre los personajes, refleja una visión positiva y esperanzadora del amor y la superación de obstáculos sociales.</p>
<p>"Orgullo y prejuicio" se destaca por su aguda observación de la sociedad de la época y su representación de personajes complejos y realistas. La obra ha perdurado a lo largo del tiempo debido a su universalidad y a la atemporalidad de los temas que aborda, convirtiéndose en una obra clásica de la literatura que sigue siendo leída y apreciada en la actualidad.</p>
            </div>
        </div>
        <a href="">Libro completo en mi otra página web (Click aquí)</a></li>
        <!-- Espacio para comentarios ... -->
        <div id="comments">
            <h3>Comentarios sobre el libro</h3>
            <div>
                <label for="author-input">Tu nombre:</label>
                <input type="text" id="author-input" placeholder="Tu nombre...">
                <span id="author-error" style="color: red;"></span>
            </div>
            <textarea id="comment-input" rows="4" placeholder="Agrega tu comentario aquí..." onkeypress="handleCommentKeyPress(event)"></textarea>
            <span id="comment-error" style="color: red;"></span>
            <button id="comment-button" onclick="publishComment()">Publicar</button>
            <!-- Puedes agregar un botón de enviar comentario si lo deseas -->
            <div id="published-comments"></div>
        </div>

        <!-- Mensaje si no se encuentra el libro -->
        <div id="not-found-message"></div>
    </section>

    <!-- Pie de página -->
    <footer>
        <p>&copy; 2023 Renta de Resúmenes de Libros.</p>
        <p>¿Tienes dudas, sugerencias o comentarios?</p>
        <p>Escríbeme a resumidos.com123@gmail.com</p>
    </footer>

    <!-- Script para almacenar y mostrar comentarios ... -->
    <script>
        // Función para publicar un comentario
        function publishComment() {
            var authorInput = document.getElementById('author-input');
            var commentInput = document.getElementById('comment-input');
            var authorName = authorInput.value.trim();
            var commentText = commentInput.value.trim();
            var authorError = document.getElementById('author-error');
            var commentError = document.getElementById('comment-error');

            // Validar que se haya ingresado el nombre del autor y el comentario
            if (!authorName && !commentText) {
                authorError.textContent = 'No ingresaste nada';
                commentError.textContent = 'No ingresaste nada';
                return;
            } else if (!authorName) {
                authorError.textContent = 'No ingresaste el usuario';
                return;
            } else if (!commentText) {
                commentError.textContent = 'No ingresaste el comentario';
                return;
            }

            // Limpiar mensajes de error
            authorError.textContent = '';
            commentError.textContent = '';

            // Obtener la sección de comentarios
            var publishedComments = document.getElementById('published-comments');

            // Crear un nuevo elemento para el comentario
            var commentElement = document.createElement('div');
            commentElement.className = 'comment';
            var commentContent = document.createElement('span');
            commentContent.innerHTML = '<strong>' + authorName + ':</strong> ' + commentText;
            commentElement.appendChild(commentContent);

            // Agregar el botón de eliminar al comentario
            var deleteButton = document.createElement('button');
            deleteButton.className = 'delete-button';
            deleteButton.textContent = 'Eliminar';
            deleteButton.onclick = function () {
                publishedComments.removeChild(commentElement);
                // Actualizar los comentarios almacenados después de eliminar uno
                updateStoredComments();
            };
            commentElement.appendChild(deleteButton);

            // Agregar el comentario a la sección de comentarios
            publishedComments.appendChild(commentElement);

            // Almacenar el comentario en localStorage
            saveComment({ author: authorName, text: commentText });

            // Limpiar los cuadros de entrada después de publicar el comentario
            authorInput.value = '';
            commentInput.value = '';
        }

        // Función para cargar los comentarios almacenados al cargar la página
        function loadComments() {
            var storedComments = getStoredComments();

            if (storedComments) {
                var publishedComments = document.getElementById('published-comments');

                storedComments.forEach(function (comment) {
                    var commentElement = createCommentElement(comment);
                    publishedComments.appendChild(commentElement);
                });
            }
        }

        // Función para almacenar un comentario en localStorage
        function saveComment(comment) {
            var storedComments = getStoredComments() || [];
            storedComments.push(comment);
            localStorage.setItem('comments', JSON.stringify(storedComments));
        }

        // Función para obtener los comentarios almacenados en localStorage
        function getStoredComments() {
            var storedCommentsJSON = localStorage.getItem('comments');
            return storedCommentsJSON ? JSON.parse(storedCommentsJSON) : null;
        }

        // Función para crear un elemento de comentario
        function createCommentElement(comment) {
            var commentElement = document.createElement('div');
            commentElement.className = 'comment';
            var commentContent = document.createElement('span');
            commentContent.innerHTML = '<strong>' + comment.author + ':</strong> ' + comment.text;
            commentElement.appendChild(commentContent);

            // Agregar el botón de eliminar al comentario
            var deleteButton = document.createElement('button');
            deleteButton.className = 'delete-button';
            deleteButton.textContent = 'Eliminar';
            deleteButton.onclick = function () {
                commentElement.parentNode.removeChild(commentElement);
                // Actualizar los comentarios almacenados después de eliminar uno
                updateStoredComments();
            };
            commentElement.appendChild(deleteButton);

            return commentElement;
        }

        // Función para actualizar los comentarios almacenados después de eliminar uno
        function updateStoredComments() {
            var commentElements = document.getElementsByClassName('comment');
            var updatedComments = [];

            for (var i = 0; i < commentElements.length; i++) {
                var commentContent = commentElements[i].getElementsByTagName('span')[0].innerHTML;
                var splitIndex = commentContent.indexOf(':') + 2; // Considerando espacio después de ':'
                var author = commentContent.substring(0, splitIndex - 2);
                var text = commentContent.substring(splitIndex);
                updatedComments.push({ author: author, text: text });
            }

            localStorage.setItem('comments', JSON.stringify(updatedComments));
        }

        // Función para manejar el evento de presionar Enter en el área de comentarios
        function handleCommentKeyPress(event) {
            if (event.key === 'Enter' && !event.shiftKey) {
                event.preventDefault();
                publishComment();
            }
        }

        // Función para buscar y redirigir a la página correspondiente
        function searchAndRedirect() {
            var searchInput = document.getElementById('search-input');
            var searchTerm = searchInput.value.trim().toLowerCase();

            // Reemplazar espacios con guiones bajos para construir los nombres de archivo
            var formattedSearchTerm = searchTerm.replace(/\s+/g, '') + '.html';

            // Redirigir a la página correspondiente si existe
            var notFoundMessage = document.getElementById('not-found-message');
            notFoundMessage.innerHTML = ''; // Limpiar el mensaje

            if (bookExists(formattedSearchTerm)) {
                window.location.href = formattedSearchTerm;
            } else {
                notFoundMessage.innerHTML = 'No hay resúmenes de libros de acuerdo a tu solicitud.';
            }
        }

        // Función para manejar el evento de presionar Enter en la barra de búsqueda
        function handleSearchKeyPress(event) {
            if (event.key === 'Enter') {
                searchAndRedirect();
            }
        }

        // Función para verificar si existe un libro
        function bookExists(bookName) {
            // Puedes implementar la lógica para verificar si existe el libro
            // Devuelve true si el libro existe, false de lo contrario
            return true; // Placeholder, reemplazar con lógica real
        }

        // Configurar el evento de presionar Enter en el área de comentarios
        var commentInput = document.getElementById('comment-input');
        commentInput.addEventListener('keypress', handleCommentKeyPress);

        // Configurar el evento de presionar Enter en la barra de búsqueda
        var searchInput = document.getElementById('search-input');
        searchInput.addEventListener('keypress', handleSearchKeyPress);

        // Cargar comentarios al cargar la página
        window.onload = loadComments;
    </script>

</body>

</html>
